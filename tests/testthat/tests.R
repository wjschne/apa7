library(apa7)
library(testthat)
test_that("apa_p", {
  expect_equal(apa_p(0, T), "*p*\u00A0<\u00A0.001")
  expect_equal(apa_p(0, F), "<.001")
  expect_equal(apa_p(0.0007, T), "*p*\u00A0<\u00A0.001")
  expect_equal(apa_p(0.001, T), "*p*\u00A0=\u00A0.001")
  expect_equal(apa_p(0.000999, T), "*p*\u00A0<\u00A0.001")
  expect_equal(apa_p(0.000999, F), "<.001")
  expect_equal(apa_p(0.001, T), "*p*\u00A0=\u00A0.001")
  expect_equal(apa_p(0.005, F), ".005")
  expect_equal(apa_p(0.0081, T), "*p*\u00A0=\u00A0.008")
  expect_equal(apa_p(0.00999, F), ".01")
  expect_equal(apa_p(0.00999, T), "*p*\u00A0=\u00A0.01")
  expect_equal(apa_p(0.00999, FALSE), ".01")
  expect_equal(apa_p(0.0999, T), "*p*\u00A0=\u00A0.10")
  expect_equal(apa_p(0.0999, FALSE), ".10")
  expect_equal(apa_p(0.0999, T), "*p*\u00A0=\u00A0.10")
  expect_equal(apa_p(0.0999, FALSE), ".10")
  expect_equal(apa_p(0.0999, T, plain = T), "p = .10")
  expect_equal(apa_p(0, T, plain = T), "p < .001")
  expect_equal(apa_p(c(.0001, .001,.01,.5,.99, .995), inline = F),
               c("<.001", ".001",  ".01",   ".50",   ".99",   ">.99"))

})
